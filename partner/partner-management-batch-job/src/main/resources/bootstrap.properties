# Spring Cloud Config
spring.cloud.config.uri=https://dev.mosip.net
spring.cloud.config.label=master
spring.application.name=partner-management
spring.profiles.active=default

# Server Configuration
server.port=9110
server.servlet.context-path=/v1/partnermanagement

# Management and Health Endpoints
management.endpoints.web.exposure.include=info,health,refresh
management.endpoint.health.show-details=always

# Hibernate Settings
spring.jpa.hibernate.ddl-auto=none

# Spring Batch Schema Setup
spring.batch.jdbc.initialize-schema=never
spring.batch.job.enabled=false

# Database Transaction Settings
spring.batch.jdbc.transaction-isolation-level=ISOLATION_READ_COMMITTED

# Chunk Processing Configuration
spring.batch.chunk.size=10

# Error Handling
spring.batch.skip.enabled=true
spring.batch.skip.limit=10

# Keycloak URL to retrieve all users assigned to a specific role.
# The 'max=-1' parameter ensures that all users are fetched without any limit.
mosip.iam.role-users-url=${keycloak.external.url}/auth/admin/realms/mosip/roles/{userRole}/users?max=-1


# keymanager
mosip.kernel.keymanager.url=https://dev.mosip.net
pmp.partner.certificaticate.get.rest.uri=${mosip.kernel.keymanager.url}/v1/keymanager/getPartnerCertificate/{partnerCertId}
pmp.trust.certificates.post.rest.uri=${mosip.kernel.keymanager.url}/v1/keymanager/getCaCertificates
pmp.encrypt.data.with.pin.post.rest.uri=${mosip.kernel.keymanager.url}/v1/keymanager/encryptWithPin
pmp.decrypt.data.with.pin.post.rest.uri=${mosip.kernel.keymanager.url}/v1/keymanager/decryptWithPin

#Cron job schedule
# This job will create notifications for Root / Intermediate certificate expiry
mosip.pms.batch.job.root.intermediate.cert.expiry.cron.schedule=0 0 0 * * *
# This job will create notifications for Partner certificate expiry
mosip.pms.batch.job.partner.cert.expiry.cron.schedule=0 0 0 * * *
# This job will create weekly notifications
mosip.pms.batch.job.weekly.notifications.cron.schedule=0 0 0 * * 6
# This job will delete past notifications
mosip.pms.batch.job.delete.past.notifications.cron.schedule=0 0 0 * * *

# Period in days for which past notifications will be deleted
mosip.pms.batch.job.past.notifications.deletion.period=60
mosip.pms.batch.job.enable.past.notifications.deletion=true

#certificate expiry periods in days, when notification are to be triggered
mosip.pms.batch.job.root.intermediate.cert.expiry.periods=30,15,10,9,8,7,6,5,4,3,2,1,0
mosip.pms.batch.job.partner.cert.expiry.periods=30,15,10,9,8,7,6,5,4,3,2,1,0

#specify the partner ids for which notifications are to be skipped
mosip.pms.batch.job.skips.partner.ids=MOSIP.PROXY.SBI,mpartner-default-cert,mpartner-default-adjudication,mpartner-default-mobile,mpartner-default-print,mpartner-default-abis,mpartner-default-resident,mpartner-default-auth,mpartner-default-digitalcard,mpartner-default-esignet,

#email notification templates
email.notification.partner.cert.expiry.template=PARTNER_CERT_EXPIRY_TEMPLATE
email.notification.intermediate.cert.expiry.template=INTERMEDIATE_CERT_EXPIRY_TEMPLATE
email.notification.root.cert.expiry.template=ROOT_CERT_EXPIRY_TEMPLATE
email.notification.weekly.summary.template=WEEKLY_SUMMARY_TEMPLATE
email.notification.partner.cert.expiry.subject.template=PARTNER_CERT_EXPIRY_SUBJECT
email.notification.intermediate.cert.expiry.subject.template=INTERMEDIATE_CERT_EXPIRY_SUBJECT
email.notification.root.cert.expiry.subject.template=ROOT_CERT_EXPIRY_SUBJECT
email.notification.weekly.summary.subject.template=WEEKLY_SUMMARY_SUBJECT
